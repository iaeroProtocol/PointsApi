{
  "$schema": "https://railway.app/railway.schema.json",
  "services": [
    {
      "name": "iaero-postgres",
      "type": "postgres"
    },
    {
      "name": "iaero-points-api",
      "port": 8080,
      "healthcheckPath": "/health",
      "build": {
        "dockerfilePath": "apps/points-api/Dockerfile",
        "rootDir": "apps/points-api"
      },
      "env": {
        "DATABASE_URL": { "fromService": "iaero-postgres", "env": "DATABASE_URL" },
        "PORT": "8080"
      }
    },
    {
      "name": "iaero-points-indexer",
      "port": 8090,
      "healthcheckPath": "/health",
      "build": {
        "dockerfilePath": "apps/points-indexer/Dockerfile",
        "rootDir": "apps/points-indexer"
      },
      "env": {
        "DATABASE_URL": { "fromService": "iaero-postgres", "env": "DATABASE_URL" },
        "RPC_URL": "",
        "TARGETS": "",
        "CONFIRMATIONS": "3",
        "STEP": "2000",
        "POLL_MS": "6000",
        "HEALTH_PORT": "8090"
      }
    }
  ]
}
